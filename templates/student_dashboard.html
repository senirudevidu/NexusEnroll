<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NexusEnroll Student</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/student.css') }}">
</head>
<body>
  <!-- Header -->
  <header class="student-header">
    <div class="logo">NexusEnroll <span class="portal">Student Portal</span></div>
    <button class="back-btn">Back to Main</button>
  </header>

  <!-- Welcome Section -->
  <div class="welcome">
    <h2>Welcome, {{ firstName }} {{ lastName }}</h2>
    <p>Student ID: ST234001 | Major: Computer Science</p>
  </div>

  <!-- Tabs -->
  <nav class="tabs">
    <button onclick="showTab('catalog')" class="active">Course Catalog</button>
    <button onclick="showTab('schedule')">My Schedule</button>
    <button onclick="showTab('progress')">Academic Progress</button>
    <button onclick="showTab('enrolled')">Enrolled Courses</button>
  </nav>

  <!-- Content -->
  <main class="content">
    <!-- Course Catalog -->
    <section id="catalog" class="tab-content active">
      <h3>Course Catalog</h3>
      
      <!-- Search Filters -->
      <div class="search-filters">
        <div class="filter-row">
          <input type="text" id="searchKeyword" class="search-input" placeholder="Search courses, keywords...">
          <input type="text" id="searchInstructor" class="search-input" placeholder="Instructor name...">
        </div>
        <div class="filter-row">
          <select id="departmentFilter" class="filter-select">
            <option value="">All Departments</option>
          </select>
          <input type="text" id="courseNumber" class="search-input" placeholder="Course number...">
          <button onclick="searchCourses()" class="search-btn">Search</button>
          <button onclick="clearFilters()" class="clear-btn">Clear</button>
        </div>
        
        <!-- Special Use Case Section -->
        <div class="use-case-section">
          <h4>Find Computer Science Courses by Professor</h4>
          <div class="use-case-filters">
            <select id="useCaseDepartment" class="filter-select">
              <option value="">Select Department</option>
              <option value="Computer Science">Computer Science</option>
              <option value="Information Technology">Information Technology</option>
              <option value="Software Engineering">Software Engineering</option>
            </select>
            <input type="text" id="useCaseInstructor" class="search-input" placeholder="Professor name...">
            <button onclick="searchByDepartmentAndInstructor()" class="search-btn">Find Courses</button>
          </div>
        </div>
      </div>

      <!-- Course Results -->
      <div id="courseResults" class="course-results">
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
          <div class="spinner"></div>
          <p>Loading courses...</p>
        </div>
        
        <div id="noResults" class="no-results" style="display: none;">
          <p>No courses found matching your criteria.</p>
        </div>
        
        <div id="courseList" class="course-list">
          <!-- Courses will be dynamically loaded here -->
        </div>
      </div>

      <!-- Sort Options -->
      <div class="sort-options">
        <label>Sort by:</label>
        <select id="sortBy" onchange="sortCourses()">
          <option value="courseName">Course Name</option>
          <option value="department">Department</option>
          <option value="instructor">Instructor</option>
          <option value="availability">Available Seats</option>
        </select>
      </div>
    </section>

    <!-- My Schedule -->
    <section id="schedule" class="tab-content">
      <h3>My Weekly Schedule</h3>
      <div id="schedule-list"></div>
      <div class="schedule-container">
    <h2>My Weekly Schedule</h2>
    <div id="schedule">
      <!-- Existing courses -->
      <div class="course-card">
        <strong>CS101</strong> – Tech Building 101 <br>
        <span class="days-time">MWF | 9:00 - 10:00 AM</span>
      </div>
      <div class="course-card">
        <strong>MATH201</strong> – Math Hall 205 <br>
        <span class="days-time">TTh | 11:00 - 12:30 PM</span>
      </div>
    </div>

    <!-- Add Course Form -->
    <form id="courseForm">
      <input type="text" id="code" placeholder="Course Code (e.g. PHYS150)" required>
      <input type="text" id="location" placeholder="Location (e.g. Science Hall 310)" required>
      <input type="text" id="days" placeholder="Days (e.g. MWF, TTh)" required>
      <input type="text" id="time" placeholder="Time (e.g. 2:00 - 3:00 PM)" required>
      <button type="submit">+ Add Course</button>
    </form>
  </div>

    </section>

    <!-- Academic Progress -->
    <section id="progress" class="tab-content">
      <h3>Academic Progress</h3>
      <p>GPA: <b>3.7</b></p>
      <div class="progress-bar"><div class="fill" style="width:75%"></div></div>
      <div class="progress-container">
    <h2>Academic Progress</h2>
    <div id="progress">
      <!-- Existing courses -->
      <div class="course-card">
        <div class="course-info">
          <strong>CS100: Intro to Programming</strong><br>
          Fall 2024 – 3 credits
        </div>
        <span class="grade">A</span>
      </div>
      <div class="course-card">
        <div class="course-info">
          <strong>MATH101: Calculus I</strong><br>
          Fall 2024 – 4 credits
        </div>
        <span class="grade">B+</span>
      </div>
      <div class="course-card">
        <div class="course-info">
          <strong>ENG100: Composition</strong><br>
          Fall 2024 – 3 credits
        </div>
        <span class="grade">A-</span>
      </div>
    </div>

    <!-- Summary -->
    <div class="summary">
      Total Credits Completed: <span id="totalCredits">10</span><br>
      Current GPA: <span id="gpa">3.7</span>
    </div>

    <!-- Add Course Form -->
    <form id="courseForm">
      <input type="text" id="code" placeholder="Course Code (e.g. PHYS150)" required>
      <input type="text" id="title" placeholder="Course Title (e.g. Physics I)" required>
      <input type="text" id="semester" placeholder="Semester (e.g. Spring 2025)" required>
      <input type="number" id="credits" placeholder="Credits" required>
      <input type="text" id="grade" placeholder="Grade (e.g. A, B+)" required>
      <button type="submit">+ Add Completed Course</button>
    </form>
  </div>
    </section>

    <!-- Enrolled Courses -->
    <section id="enrolled" class="tab-content">
      <h3>Enrolled Courses</h3>
      <ul id="enrolled-list"></ul>
      <div class="enrolled-courses-container">
        <div class="courses-header">
            <h2>Current Enrollments</h2>
            <div class="semester">Spring 2005 Semester</div>
        </div>
        
        <div class="courses-content">
            <div class="courses-list">
                <div class="course-card">
                    <div class="course-code">C5101</div>
                    <div class="course-info">
                        <div class="course-schedule">
                            <i class="far fa-clock"></i>
                            <span>MWF 9.00-10.00 AM</span>
                        </div>
                        <div class="course-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Tech Building 101</span>
                        </div>
                    </div>
                    <button class="drop-btn" onclick="showDropModal('C5101')">
                        <i class="fas fa-times"></i>
                        Drop Course
                    </button>
                </div>
                
                <div class="course-card">
                    <div class="course-code">MATH201</div>
                    <div class="course-info">
                        <div class="course-schedule">
                            <i class="far fa-clock"></i>
                            <span>TTh 11:00-12:30 PM</span>
                        </div>
                        <div class="course-location">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Math Hall 205</span>
                        </div>
                    </div>
                    <button class="drop-btn" onclick="showDropModal('MATH201')">
                        <i class="fas fa-times"></i>
                        Drop Course
                    </button>
                </div>
            </div>
          </div>
    
    <!-- Drop Course Confirmation Modal -->
    <div class="modal" id="dropModal">
        <div class="modal-content">
            <h3>Drop Course</h3>
            <p>Are you sure you want to drop <span id="courseName"></span>? This action cannot be undone.</p>
            <div class="modal-buttons">
                <button class="modal-btn cancel-btn" onclick="hideDropModal()">Cancel</button>
                <button class="modal-btn confirm-btn" onclick="dropCourse()">Yes, Drop Course</button>
            </div>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast">
        Course dropped successfully!
    </div>  
    </section>
  </main>

  <script src="{{ url_for('static', filename='js/student.js') }}"></script>
</body>
</html>